"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("next-server/constants");
const internalPrefixes = [
    /^\/_next\//,
    /^\/static\//,
];
function isInternalUrl(url) {
    for (const prefix of internalPrefixes) {
        if (prefix.test(url)) {
            return true;
        }
    }
    return false;
}
exports.isInternalUrl = isInternalUrl;
function isBlockedPage(pathname) {
    return (constants_1.BLOCKED_PAGES.indexOf(pathname) !== -1);
}
exports.isBlockedPage = isBlockedPage;
function cleanAmpPath(pathname) {
    return (pathname || '')
        .replace(/\.amp$/, '')
        .replace(/\index$/, '');
}
exports.cleanAmpPath = cleanAmpPath;
function isAmpPath(pathname) {
    return (pathname || '').endsWith('.amp');
}
exports.isAmpPath = isAmpPath;
function isAmpFile(pathname) {
    if (isAmpPath(pathname))
        return true;
    pathname = pathname || '';
    const parts = pathname.split('.');
    parts.pop(); // remove extension
    return isAmpPath(parts.join('.'));
}
exports.isAmpFile = isAmpFile;
